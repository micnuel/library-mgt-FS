(this["webpackJsonpfast-track-typescript-redux-template"]=this["webpackJsonpfast-track-typescript-redux-template"]||[]).push([[0],{190:function(e,t,a){e.exports=a(207)},199:function(e,t,a){},205:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(53),l=a.n(o),u=a(8),c=a(15),i=a(74),s=a(26),m=a(24),d=a(44),p=a.n(d),h=a(57),b=(a(199),[{name:"Name",selector:"name",sortable:!0},{name:"Authors",cell:function(e){return r.a.createElement("div",{className:"columns"},r.a.createElement("li",null,e.author[0]?e.author[0].firstName:e.author[1]),r.a.createElement("li",null,e.author[1]?e.author[1].firstName:e.author[2]),r.a.createElement("li",null,e.author[2]?e.author[2].firstName:e.author[3]))}},{name:"Publisher",selector:"publisher",sortable:!0}]);function f(e){return{type:"ADD_BOOK",payload:{book:e}}}function E(e){return{type:"UPDATE_BOOK",payload:{book:e}}}function v(e){return function(t){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/books/".concat(e),{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(e){return alert(e.status)}))}}var g=a(226),O=a(220),y=a(208),k=a(221),j=function(){var e=Object(i.f)(),t=JSON.parse(localStorage.getItem("userInfo"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{text:t.user.firstName,icon:"user",floating:!0,labeled:!0,button:!0,className:"icon"},r.a.createElement(k.a.Menu,null,"admin"===t.user.role&&r.a.createElement(k.a.Item,{onClick:function(){return e.push("/admin")}},"Manage Books"),"admin"===t.user.role&&r.a.createElement(k.a.Item,{onClick:function(){return e.push("/admin/author")}},"Manage Authors"),"admin"===t.user.role&&r.a.createElement(k.a.Item,null,"Manage Users"),r.a.createElement(k.a.Item,{onClick:function(){e.push("/borrowed")}}," Borrowed"),r.a.createElement(k.a.Item,{onClick:function(){localStorage.removeItem("userInfo"),e.push("/")}},"Logout"))))},S=function(){var e=Object(i.f)(),t=Object(u.c)((function(e){return e.book.inTray}));console.log(t);var a=JSON.parse(localStorage.getItem("userInfo"))?JSON.parse(localStorage.getItem("userInfo")).user:null;return r.a.createElement(g.a,{secondary:!0},r.a.createElement(c.b,{to:"/"},r.a.createElement(g.a.Item,{name:"BK Library"})),r.a.createElement(g.a.Menu,{position:"left"},r.a.createElement(g.a.Item,null,r.a.createElement(O.a,{icon:"search",placeholder:"Search..."}))),r.a.createElement(g.a.Menu,{position:"right"},!a&&r.a.createElement(g.a.Item,{name:"login",onClick:function(){e.push("/login")}}),!a&&r.a.createElement(g.a.Item,{name:"register",onClick:function(){e.push("/register")}}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onClick:function(t){return e.push("/checkout")}},r.a.createElement(h.a,{name:"shopping cart"})," ",t.length),r.a.createElement(j,null))))},C=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=(t[0],t[1],Object(u.c)((function(e){return e.book.books}))),r=Object(u.b)();return Object(n.useEffect)((function(){r((function(e){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/books").then((function(e){return e.json()})).then((function(t){e(function(e){return{type:"FETCH_BOOKS",payload:{books:e}}}(t))}))}))}),[r]),[a]};function N(){var e=Object(u.b)(),t=C(),a=Object(m.a)(t,1)[0],n=Object(u.c)((function(e){return e.book}));console.log(n);var o=[].concat(Object(s.a)(b),[{name:"Borrow",cell:function(t){return r.a.createElement("div",null,r.a.createElement("button",{disabled:!!n.inTray.find((function(e){return e._id===t._id})),onClick:function(){t.status="borrowed",console.log(e(f(t)))}},"Borrow"))}},{name:"More...",cell:function(e){return r.a.createElement("div",null,r.a.createElement(c.b,{to:"/book/".concat(e._id)},r.a.createElement(h.a,{name:"eye",size:"large"})))}}]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(p.a,{title:"List of Books",columns:o,data:a,striped:!0,noDataComponent:r.a.createElement("h2",null,"LOADING.../No Data")}))}var B=a(38),I=a(222),w=a(13);function x(){return function(e){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/authors").then((function(e){return e.json()})).then((function(t){e(function(e){return{type:"FETCH_AUTHORS",payload:{authors:e}}}(t))}))}}function T(){var e=Object(u.b)(),t=Object(n.useState)([]),a=Object(m.a)(t,2),o=(a[0],a[1],JSON.parse(localStorage.getItem("userInfo")));return setTimeout((function(){return console.log(o)}),2e3),r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("h1",null,"Add An Author"),r.a.createElement(B.a,{initialValues:{firstName:"",lastName:"",token:"".concat(JSON.parse(localStorage.getItem("userInfo")).token),books:[]},validationSchema:w.b({firstName:w.d().min(3,"must be at least 3 character").max(25,"must be 25 characters or less").required("required field"),lastName:w.d().min(3,"must be at least 3 character").max(25,"must be 25 characters or less").required("required field")}),onSubmit:function(t,a){a.setSubmitting;var n,r=a.resetForm;JSON.stringify(t,null,2),e((n=t,function(e){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/authors",{method:"POST",headers:{"Content-type":"application/json",authorization:"".concat(n.token)},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){e(function(e){return{type:"ADD_AUTHOR",payload:{author:e}}}(t))}))})),r()}},(function(e){return r.a.createElement(I.a,{onSubmit:e.handleSubmit},r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"firstName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.firstName,name:"firstName"}),e.errors.firstName&&r.a.createElement("div",{id:"feedback"},e.errors.firstName),r.a.createElement(I.a.Input,{placeholder:"lastName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.lastName,name:"lastName"}),e.errors.lastName&&r.a.createElement("div",{id:"feedback"},e.errors.lastName)),r.a.createElement(I.a.Button,{type:"submit"},"Submit"))})))}function _(){var e=[{key:"m",text:"Programming",value:"Programming"},{key:"f",text:"Science",value:"Science"},{key:"o",text:"Other",value:"other"}],t=Object(i.f)(),a=Object(u.b)(),o=Object(n.useState)([]),l=Object(m.a)(o,2),c=(l[0],l[1],Object(u.c)((function(e){return e.author})));return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("h1",null,"Add A Book"),r.a.createElement(B.a,{initialValues:{name:"",isbn:"",category:[],publisher:"",description:"",status:"available",author:[],publishedYear:0},validationSchema:w.b({name:w.d().max(25,"must be 25 characters or less").required("required field"),isbn:w.a().required("required field"),publisher:w.d().max(25,"must be 25 characters or less").required("required field"),description:w.d().max(55,"must be 55 characters or less").required("required field"),publishedYear:w.a().required("required field")}),onSubmit:function(e,n){n.setSubmitting;var r=n.resetForm;JSON.stringify(e,null,2),a(function(e){return function(t){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/books",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}}(e)),t.push("/admin"),r()}},(function(t){return r.a.createElement(I.a,{onSubmit:t.handleSubmit},r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"name",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.name,name:"name"}),t.errors.name&&r.a.createElement("div",{id:"feedback"},t.errors.name),r.a.createElement(I.a.Input,{placeholder:"isbn",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.isbn,name:"isbn"}),t.errors.isbn&&r.a.createElement("div",{id:"feedback"},t.errors.isbn)),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"publisher",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.publisher,name:"publisher"}),t.errors.publisher&&r.a.createElement("div",{id:"feedback"},t.errors.publisher),r.a.createElement(I.a.Input,{placeholder:"description",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.description,name:"description"}),t.errors.publisher&&r.a.createElement("div",{id:"feedback"},t.errors.description)),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Field,{control:"select",multiple:!0,onChange:t.handleChange,label:"Authors",value:t.values.author,name:"author"},c.authors.map((function(e){return console.log(c),r.a.createElement("option",{key:e._id,value:e._id},e.firstName)}))),r.a.createElement(I.a.Field,{onChange:t.handleChange,control:"select",name:"category",label:"Category",placeholder:"Category",value:t.values.category},e.map((function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.text)})))),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"published Year",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.publishedYear,name:"publishedYear"}),t.errors.publishedYear&&r.a.createElement("div",{id:"feedback"},t.errors.publishedYear),r.a.createElement(I.a.Button,{type:"submit"},"Submit")))})))}function A(){var e=Object(i.f)(),t=Object(u.b)(),a=JSON.parse(localStorage.getItem("userInfo"))?JSON.parse(localStorage.getItem("userInfo")).user.role:"";return r.a.createElement("div",null,r.a.createElement("h1",null,"Login Page"),r.a.createElement(B.a,{initialValues:{email:"",password:""},validationSchema:w.b({email:w.d().email("invalid email address").required("required field"),password:w.d().max(45,"must be 25 characters or less").required("required field")}),onSubmit:function(n,r){r.setSubmitting;var o=r.resetForm;JSON.stringify(n,null,2),t(function(e){return function(t){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/users/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"LOGIN",payload:{user:e}}}(e))}))}}(n)),o(),"admin"===a?e.push("/admin"):"normal"===a&&e.push("/borrowed")}},(function(e){return r.a.createElement(I.a,{onSubmit:e.handleSubmit},r.a.createElement(I.a.Group,{widths:"equal"},r.a.createElement(I.a.Input,{placeholder:"email",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.email,name:"email"}),e.errors.email&&r.a.createElement("div",{id:"feedback"},e.errors.email),r.a.createElement(I.a.Input,{placeholder:"password",type:"password",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.password,name:"password"}),e.errors.password&&r.a.createElement("div",{id:"feedback"},e.errors.password)),r.a.createElement(I.a.Button,{type:"submit"},"Login"))})))}function q(){var e=Object(u.b)(),t=Object(n.useState)([]),a=Object(m.a)(t,2);a[0],a[1],Object(u.c)((function(e){return e.author}));return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("h1",null,"User Registration"),r.a.createElement(B.a,{initialValues:{firstName:"",lastName:"",username:"",email:"",password:"",passwordConfirmation:"",role:"normal"},validationSchema:w.b({firstName:w.d().min(3,"must be at least 3 character").max(25,"must be 25 characters or less").required("required field"),lastName:w.d().min(3,"must be at least 3 character").max(25,"must be 25 characters or less").required("required field"),password:w.d().required("Password is required"),passwordConfirmation:w.d().oneOf([w.c("password"),""],"Passwords must match")}),onSubmit:function(t,a){a.setSubmitting;var n,r=a.resetForm;alert(JSON.stringify(t,null,2)),e((n=t,function(e){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/users",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){e(function(e){return{type:"ADD_USER",payload:{user:e}}}(t))}))})),r(),alert(JSON.stringify(t,null,2))}},(function(e){return r.a.createElement(I.a,{onSubmit:e.handleSubmit},r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"firstName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.firstName,name:"firstName"}),e.errors.firstName&&r.a.createElement("div",{id:"feedback"},e.errors.firstName),r.a.createElement(I.a.Input,{placeholder:"lastName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.lastName,name:"lastName"}),e.errors.lastName&&r.a.createElement("div",{id:"feedback"},e.errors.lastName)),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"lastName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.lastName,name:"lastName"}),e.errors.lastName&&r.a.createElement("div",{id:"feedback"},e.errors.lastName),r.a.createElement(I.a.Input,{placeholder:"username",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.username,name:"username"}),e.errors.username&&r.a.createElement("div",{id:"feedback"},e.errors.username)),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"email",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.email,name:"email"}),e.errors.email&&r.a.createElement("div",{id:"feedback"},e.errors.email),r.a.createElement(I.a.Input,{placeholder:"password",type:"password",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.password,name:"password"}),e.errors.password&&r.a.createElement("div",{id:"feedback"},e.errors.password)),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"confirm password",type:"password",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.passwordConfirmation,name:"passwordConfirmation"}),e.errors.passwordConfirmation&&r.a.createElement("div",{id:"feedback"},e.errors.passwordConfirmation),r.a.createElement(I.a.Button,{type:"submit"},"Register")))})))}var D=a(224),R=r.a.createElement(c.b,{to:"/"},r.a.createElement(h.a,{name:"angle double left"}));function J(){var e=Object(i.g)().id,t=Object(u.c)((function(t){return t.book.books.find((function(t){return t._id===e}))}));return r.a.createElement(D.a,{style:{width:"50%",marginLeft:"25%"},image:"../../cover.jpg",header:null===t||void 0===t?void 0:t.name,meta:null===t||void 0===t?void 0:t.isbn,description:null===t||void 0===t?void 0:t.description,extra:R})}function U(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(J,null))}var F=JSON.parse(localStorage.getItem("userInfo"))?JSON.parse(localStorage.getItem("userInfo")).user._id:null;var P=function(){Object(u.c)((function(e){return e.borrow.borrow}));var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=(t[1],JSON.parse(localStorage.getItem("userInfo"))?JSON.parse(localStorage.getItem("userInfo")).user._id:null),o=Object(u.b)();return Object(n.useEffect)((function(){o((function(e){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/borrows/".concat(F)).then((function(e){return e.json()})).then((function(t){e({type:"FETCH_BORROW",payload:{borrow:t}})}))}))}),[]),console.log(r),[a]};function G(){var e=Object(u.b)(),t=P(),a=Object(m.a)(t,1)[0],n=Object(u.c)((function(e){return e.borrow})),o=Object(u.c)((function(e){return e.book}));console.log(o);var l=[];n.borrow.map((function(e){l.push(e.bookId)})),console.log(n),console.log(l);var c=[].concat(Object(s.a)(b),[{name:"Borrow",cell:function(t){return r.a.createElement("div",null,a&&r.a.createElement("button",{onClick:function(){console.log(e({type:"REMOVE_BORROW",payload:{bookId:t.id}}))}},"Return"))}}]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(p.a,{title:"List of Borrowed Books",columns:c,data:l[0],striped:!0,noDataComponent:r.a.createElement("h2",null,"LOADING.../No Data")}))}function L(){var e=Object(i.f)(),t=[{id:1,operation:"Authors"},{id:2,operation:"Books"},{id:3,operation:"Users"}],a=function(){t.map((function(a,n){"Authors"===t[n].operation&&e.push("/add-author"),"Books"===t[n].operation&&e.push("/add-book"),"Users"===t[n].operation&&e.push("/register")}))},n=[{name:"Operations",selector:"operation",sortable:!0},{name:"Add",cell:function(e){return r.a.createElement("div",null,r.a.createElement("button",{onClick:a}," ",r.a.createElement(h.a,{name:"plus circle"}),"Add"))}},{name:"Remove",cell:function(e){return r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement(h.a,{name:"trash"}),"Delete"))}},{name:"Update",cell:function(e){return r.a.createElement("div",null,r.a.createElement("button",null,r.a.createElement(h.a,{name:"pencil alternate"})," Update"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(p.a,{title:"Welcome Admin",columns:n,data:t,striped:!0}))}function Y(){var e=Object(u.b)(),t=Object(i.f)(),a=C(),n=Object(m.a)(a,1)[0],o=Object(u.c)((function(e){return e.book}));console.log(o);var l=[{name:"Name",selector:"name",sortable:!0},{name:"Remove",cell:function(a){return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e(v(a._id)),t.push("/admin")}},r.a.createElement(h.a,{name:"trash"}),"Delete"))}},{name:"Update",cell:function(t){return r.a.createElement("div",null,r.a.createElement(c.b,{to:"/update-book/".concat(t._id)},r.a.createElement("button",{onClick:function(){console.log(e(E(t)))}},r.a.createElement(h.a,{name:"pencil alternate"})," Update")))}},{name:"Add",cell:function(e){return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return t.push("/add-book")}},r.a.createElement(h.a,{name:"plus circle"}),"Add"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(p.a,{title:"List of Books",columns:l,data:n,striped:!0,noDataComponent:r.a.createElement("h2",null,"LOADING.../No Data")}))}var H=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=(t[0],t[1],Object(u.c)((function(e){return e.author.authors}))),r=Object(u.b)();return Object(n.useEffect)((function(){console.log(r(x()))}),[r]),a};function M(){var e=Object(u.b)(),t=Object(i.f)(),a=H();console.log(a);var n=[{name:"FirstName",selector:"firstName",sortable:!0},{name:"Remove",cell:function(a){return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){console.log(e(v(a._id))),t.push("/")}},r.a.createElement(h.a,{name:"trash"}),"Delete"))}},{name:"Update",cell:function(t){return r.a.createElement("div",null,r.a.createElement(c.b,{to:"/update-author/".concat(t._id)},r.a.createElement("button",{onClick:function(){console.log(e(E(t)))}},r.a.createElement(h.a,{name:"pencil alternate"})," Update")))}},{name:"Add",cell:function(e){return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return t.push("/add-author")}},r.a.createElement(h.a,{name:"plus circle"}),"Add"))}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(p.a,{title:"List of Books",columns:n,data:a,striped:!0,noDataComponent:r.a.createElement("h2",null,"LOADING.../No Data")}))}function V(){var e=[{key:"m",text:"Programming",value:"Programming"},{key:"f",text:"Science",value:"Science"},{key:"o",text:"Other",value:"other"}],t=Object(i.f)(),a=Object(u.b)(),o=Object(i.g)().id;Object(n.useEffect)((function(){a(x())}),[a]);var l=Object(u.c)((function(e){return e.author})),c=Object(u.c)((function(e){return e.book.update}));return r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("h1",null,"Update A Book"),r.a.createElement(B.a,{initialValues:{name:c[0].name,isbn:c[0].isbn,category:c[0].category,publisher:c[0].publisher,description:c[0].description,status:"available",author:c[0].authors,publishedYear:c[0].publishedYear},validationSchema:w.b({name:w.d().max(25,"must be 25 characters or less").required("required field"),isbn:w.a().required("required field"),publisher:w.d().max(25,"must be 25 characters or less").required("required field"),description:w.d().max(55,"must be 55 characters or less").required("required field"),publishedYear:w.a().required("required field")}),onSubmit:function(e,n){n.setSubmitting;var r,l,u=n.resetForm;JSON.stringify(e,null,2),a((r=e,l=o,function(e){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/books/".concat(l),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(t){e(E(t))}))})),t.push("/admin"),u()}},(function(t){return r.a.createElement(I.a,{onSubmit:t.handleSubmit},r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"name",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.name,name:"name"}),t.errors.name&&r.a.createElement("div",{id:"feedback"},t.errors.name),r.a.createElement(I.a.Input,{placeholder:"isbn",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.isbn,name:"isbn"}),t.errors.isbn&&r.a.createElement("div",{id:"feedback"},t.errors.isbn)),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"publisher",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.publisher,name:"publisher"}),t.errors.publisher&&r.a.createElement("div",{id:"feedback"},t.errors.publisher),r.a.createElement(I.a.Input,{placeholder:"description",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.description,name:"description"}),t.errors.publisher&&r.a.createElement("div",{id:"feedback"},t.errors.description)),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Field,{control:"select",multiple:!0,onChange:t.handleChange,label:"Authors",value:t.values.author,name:"author"},l.authors.map((function(e){return console.log(l),r.a.createElement("option",{key:e._id,value:e._id},e.firstName)}))),r.a.createElement(I.a.Field,{onChange:t.handleChange,control:"select",name:"category",label:"Category",placeholder:"Category",value:t.values.category},e.map((function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.text)})))),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"published Year",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.publishedYear,name:"publishedYear"}),t.errors.publishedYear&&r.a.createElement("div",{id:"feedback"},t.errors.publishedYear),r.a.createElement(I.a.Button,{type:"submit"},"Update")))})))}function K(){var e=Object(i.g)().id,t=Object(u.b)(),a=JSON.parse(localStorage.getItem("userInfo"));Object(u.c)((function(e){return e.author.update}));return setTimeout((function(){return console.log(a)}),2e3),r.a.createElement("div",null,r.a.createElement(S,null),r.a.createElement("h1",null,"Add An Author"),r.a.createElement(B.a,{initialValues:{firstName:"",lastName:"",token:"".concat(JSON.parse(localStorage.getItem("userInfo")).token),books:[]},validationSchema:w.b({firstName:w.d().min(3,"must be at least 3 character").max(25,"must be 25 characters or less").required("required field"),lastName:w.d().min(3,"must be at least 3 character").max(25,"must be 25 characters or less").required("required field")}),onSubmit:function(a,n){n.setSubmitting;var r,o,l=n.resetForm;alert(JSON.stringify(a,null,2)),t((r=a,o=e,function(e){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/authors/".concat(o),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(t){e({type:"UPDATE_AUTHOR",payload:{author:t}})}))})),l()}},(function(e){return r.a.createElement(I.a,{onSubmit:e.handleSubmit},r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Input,{placeholder:"firstName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.firstName,name:"firstName"}),e.errors.firstName&&r.a.createElement("div",{id:"feedback"},e.errors.firstName),r.a.createElement(I.a.Input,{placeholder:"lastName",type:"text",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.lastName,name:"lastName"}),e.errors.lastName&&r.a.createElement("div",{id:"feedback"},e.errors.lastName)),r.a.createElement(I.a.Button,{type:"submit"},"Submit"))})))}var W=a(223);var z=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.book.inTray})),a=Object(i.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null," List of Books to Borrow"),t.length<=0&&r.a.createElement("div",null,r.a.createElement("h4",null,"No Book(s) in cart")),r.a.createElement(c.b,{to:"/"}," ",r.a.createElement(h.a,{name:"angle double left",size:"huge",textAlign:"center"})),t.map((function(t){return r.a.createElement(W.a,{divided:!0,key:t._id,className:"content"},r.a.createElement(W.a.Item,{className:"content__items"},r.a.createElement(W.a.Content,{floated:"right"},r.a.createElement(y.a,{onClick:function(){return e({type:"REMOVE_BOOK",payload:{book:t}})}},"Remove")),r.a.createElement(h.a,{name:"book"}),r.a.createElement(W.a.Content,null,t.name)))})),r.a.createElement(y.a,{onClick:function(){console.log(e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;return function(a){return fetch("https://salty-atoll-28842.herokuapp.com/api/v1/borrows",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({bookId:e,borrowerId:t})}).then((function(e){return e.json()}))}}(t))),a.push("/"),t.length=0,alert("Confirm to borrow books")}},"Borrow"))},$=function(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:N}),r.a.createElement(i.a,{exact:!0,path:"/admin",component:Y}),r.a.createElement(i.a,{exact:!0,path:"/admin/author",component:M}),r.a.createElement(i.a,{exact:!0,path:"/book/:id",component:U}),r.a.createElement(i.a,{exact:!0,path:"/checkout",component:z}),r.a.createElement(i.a,{exact:!0,path:"/login",component:A}),r.a.createElement(i.a,{exact:!0,path:"/register",component:q}),r.a.createElement(i.a,{exact:!0,path:"/borrowed",component:G}),r.a.createElement(i.a,{exact:!0,path:"/add-author",component:T}),r.a.createElement(i.a,{exact:!0,path:"/add-user",component:q}),r.a.createElement(i.a,{exact:!0,path:"/add-book",component:_}),r.a.createElement(i.a,{exact:!0,path:"/ad",component:L}),r.a.createElement(i.a,{exact:!0,path:"/update-book/:id",component:V}),r.a.createElement(i.a,{exact:!0,path:"/update-author/:id",component:K}))};function Q(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(49),Z=a(178),ee=a(176),te=a(28);function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authors:[],inTray:[],update:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_AUTHOR":var a=t.payload.author;return Object(te.a)({},e,{inTray:[].concat(Object(s.a)(e.inTray),[a])});case"FETCH_AUTHORS":var n=t.payload.authors;return Object(te.a)({},e,{authors:Object(s.a)(n)});case"UPDATE_AUTHOR":var r=t.payload.author;return Object(te.a)({},e,{update:[r]});default:return e}}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inTray:[],books:[],update:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK":var a=t.payload.book;return e.inTray.find((function(e){return e._id===a._id}))?e:Object(te.a)({},e,{inTray:[].concat(Object(s.a)(e.inTray),[a])});case"FETCH_BOOKS":var n=t.payload.books;return Object(te.a)({},e,{books:Object(s.a)(n)});case"UPDATE_BOOK":var r=t.payload.book;return Object(te.a)({},e,{update:[r]});case"REMOVE_BOOK":var o=t.payload.book,l=e.inTray.findIndex((function(e){return e._id==o._id}));return l>=0?(e.inTray.splice(l,1),Object(te.a)({},e,{inTray:Object(s.a)(e.inTray)})):e;case"UPDATE_BOOK":default:return e}}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[],inTray:[],user:void 0,update:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":var a=t.payload.user;return Object(te.a)({},e,{inTray:[].concat(Object(s.a)(e.inTray),[a])});case"LOGIN":var n=t.payload.user;return localStorage.setItem("userInfo",JSON.stringify(n)),Object(te.a)({},e,{user:n});case"REMOVE_USER":case"UPDATE_USER":default:return e}}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inTray:[],borrow:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BORROW":var a=t.payload.bookId;return e.inTray.find((function(e){return e._id===a._id}))?e:Object(te.a)({},e,{inTray:[].concat(Object(s.a)(e.inTray),[a])});case"FETCH_BORROW":var n=t.payload.borrow;return Object(te.a)({},e,{borrow:Object(s.a)(n)});case"REMOVE_BORROW":var r=t.payload.bookId,o=e.borrow.findIndex((function(e){return e._id===r._id}));return o>=0?(e.borrow.splice(o,1),Object(te.a)({},e,{borrow:Object(s.a)(e.borrow)})):e;case"UPDATE_BORROW":default:return e}}var le=function(){return Object(X.c)({author:ae,book:ne,user:re,borrow:oe})},ue=a(115),ce=a.n(ue),ie=a(153),se=ce.a.mark(de),me=ce.a.mark(pe);function de(){var e;return ce.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ie.b)();case 2:return e=t.sent,t.next=5,localStorage.setItem("library-state",JSON.stringify(e));case 5:case"end":return t.stop()}}),se)}function pe(){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)([Object(ie.c)("*",de)]);case 2:case"end":return e.stop()}}),me)}var he={author:{inTray:[],authors:[],update:[]},book:{inTray:[],books:[],update:[]},user:{inTray:[],users:[],update:[]},borrow:{inTray:[],borrow:[]}};a(205),a(206);var be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=Object(Z.a)(),a=[t,ee.a],n=X.d,r=localStorage.getItem("library-state");r&&(e=JSON.parse(r));var o=Object(X.e)(le(),e,n(X.a.apply(void 0,a)));return t.run(pe),o}();l.a.render(r.a.createElement((function(){return r.a.createElement(u.a,{store:be},r.a.createElement(c.a,null,r.a.createElement(Q,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[190,1,2]]]);
//# sourceMappingURL=main.1d3bf977.chunk.js.map